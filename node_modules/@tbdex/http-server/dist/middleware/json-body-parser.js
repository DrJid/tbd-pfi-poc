import express from 'express';
const bodyParser = express.json({ type: '*/*' });
export function jsonBodyParser() {
    return function (req, res, next) {
        bodyParser(req, res, (error) => {
            if (error) {
                return res.status(error.statusCode).json({
                    errors: [{ detail: error.message }]
                });
            }
            const contentLength = req.headers['content-length'];
            if (contentLength === '0') {
                return res.status(400).json({
                    errors: [{ detail: 'expected request body to be a json object' }]
                });
            }
            return next();
        });
    };
}
//# sourceMappingURL=json-body-parser.js.map